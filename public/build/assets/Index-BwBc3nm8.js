import{r as x,W as j,j as e,Y as f}from"./app-RqH-pmAi.js";import{A as y}from"./AuthenticatedLayout-4ajSe-j3.js";function v({empleados:r,auth:m}){const[t,i]=x.useState(null),[o,l]=x.useState(""),{post:h,processing:d,errors:c}=j(),p=s=>{var u;const n=parseInt(s.target.value),a=r.find(b=>b.id===n);i(a),l(((u=a==null?void 0:a.extrasueldo)==null?void 0:u.sueldo_quincenal)||"")},g=s=>{if(s.preventDefault(),!t){alert("Por favor seleccione un empleado.");return}h(route("extrasueldo.store"),{data:{empleado_id:t.id,sueldo_quincenal:o},onSuccess:()=>{alert("Sueldo extra guardado exitosamente."),l(""),i(null)},onError:n=>{console.error("Error al guardar:",n)}})};return e.jsxs(y,{user:m.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Gestión de Sueldo Extra"}),children:[e.jsx(f,{title:"Sueldo Extra"}),e.jsxs("div",{className:"py-6 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Asignar Sueldo Extra"}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Empleado"}),e.jsxs("select",{value:(t==null?void 0:t.id)||"",onChange:p,className:"block w-full mt-1 rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un empleado"}),r.map(s=>e.jsx("option",{value:s.id,children:`${s.nombre} ${s.apellido} - CI: ${s.cedula}`},s.id))]})]}),t&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sueldo Quincenal Extra"}),e.jsx("input",{type:"number",step:"0.01",value:o,onChange:s=>l(s.target.value),className:"block w-full mt-1 rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Ingrese el sueldo quincenal extra"}),c.sueldo_quincenal&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:c.sueldo_quincenal})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:`px-4 py-2 rounded-lg text-white ${d?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,disabled:d,children:d?"Guardando...":"Guardar"})})]})]}),e.jsxs("div",{className:"max-w-4xl mx-auto mt-8 bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Empleados con Sueldo Extra"}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Empleado"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Cédula"}),e.jsx("th",{className:"px-6 py-3 text-right text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Sueldo Extra"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.filter(s=>s.extrasueldo).map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:`${s.nombre} ${s.apellido}`}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.cedula}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:s.extrasueldo.sueldo_quincenal})]},s.id))})]})]})]})]})}export{v as default};
