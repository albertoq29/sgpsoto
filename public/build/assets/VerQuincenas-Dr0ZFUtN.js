import{c as v,g as Y,r as L,j as e,a as C}from"./app-RqH-pmAi.js";import{A as E}from"./AuthenticatedLayout-4ajSe-j3.js";import{S as b}from"./sweetalert2.esm.all-D3pEHXw3.js";import{a as Q,d as y}from"./dayjs.min-B3abpktd.js";var _={exports:{}};(function(l,u){(function(n,d){l.exports=d()})(v,function(){return function(n,d,s){var x=d.prototype,i=function(t){return t&&(t.indexOf?t:t.s)},r=function(t,a,h,j,f){var p=t.name?t:t.$locale(),M=i(p[a]),N=i(p[h]),g=M||N.map(function(w){return w.slice(0,j)});if(!f)return g;var S=p.weekStart;return g.map(function(w,D){return g[(D+(S||0))%7]})},o=function(){return s.Ls[s.locale()]},m=function(t,a){return t.formats[a]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(j,f,p){return f||p.slice(1)})}(t.formats[a.toUpperCase()])},k=function(){var t=this;return{months:function(a){return a?a.format("MMMM"):r(t,"months")},monthsShort:function(a){return a?a.format("MMM"):r(t,"monthsShort","months",3)},firstDayOfWeek:function(){return t.$locale().weekStart||0},weekdays:function(a){return a?a.format("dddd"):r(t,"weekdays")},weekdaysMin:function(a){return a?a.format("dd"):r(t,"weekdaysMin","weekdays",2)},weekdaysShort:function(a){return a?a.format("ddd"):r(t,"weekdaysShort","weekdays",3)},longDateFormat:function(a){return m(t.$locale(),a)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};x.localeData=function(){return k.bind(this)()},s.localeData=function(){var t=o();return{firstDayOfWeek:function(){return t.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(a){return m(t,a)},meridiem:t.meridiem,ordinal:t.ordinal}},s.months=function(){return r(o(),"months")},s.monthsShort=function(){return r(o(),"monthsShort","months",3)},s.weekdays=function(t){return r(o(),"weekdays",null,null,t)},s.weekdaysShort=function(t){return r(o(),"weekdaysShort","weekdays",3,t)},s.weekdaysMin=function(t){return r(o(),"weekdaysMin","weekdays",2,t)}}})})(_);var $=_.exports;const B=Y($);var H={exports:{}};(function(l,u){(function(n,d){l.exports=d(Q)})(v,function(n){function d(i){return i&&typeof i=="object"&&"default"in i?i:{default:i}}var s=d(n),x={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(i){return i+"º"}};return s.default.locale(x,null,!0),x})})(H);y.extend(B);y.locale("es");const c=({label:l,value:u})=>e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:l}),e.jsx("p",{className:"text-lg font-semibold text-gray-800",children:u||"N/A"})]});function V({empleado:l,quincenas:u}){const[n,d]=L.useState(null);u.sort((r,o)=>new Date(r.mes)-new Date(o.mes));const s=r=>{r?d(r):b.fire({icon:"error",title:"Error",text:"Esta quincena aún no está registrada.",confirmButtonColor:"#3B82F6"})},x=(r,o,m)=>{(!r||!o)&&(m.preventDefault(),b.fire({icon:"error",title:"Error",text:"Ambas quincenas deben estar registradas para generar el recibo de pago.",confirmButtonColor:"#3B82F6"}))},i=(r,o)=>{r||(o.preventDefault(),b.fire({icon:"error",title:"Error",text:"La primera quincena no está registrada.",confirmButtonColor:"#3B82F6"}))};return e.jsxs(E,{children:[e.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(C,{href:route("quincenas.empleados"),className:"inline-flex items-center text-blue-500 hover:text-blue-700 transition-colors duration-200",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Volver a la lista de empleados"]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-8 text-gray-800 border-b pb-4",children:["Quincenas de ",l.nombre," ",l.apellido]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 bg-gray-50 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Mes"}),e.jsx("th",{className:"px-6 py-4 bg-gray-50 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Primera Quincena"}),e.jsx("th",{className:"px-6 py-4 bg-gray-50 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Segunda Quincena"}),e.jsx("th",{className:"px-6 py-4 bg-gray-50 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Opciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map((r,o)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700 font-medium",children:y(r.mes).format("MMMM YYYY")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>s(r.primera),className:`text-sm font-medium transition-colors duration-200 ${r.primera?"text-blue-500 hover:text-blue-700":"text-red-500 hover:text-red-700"}`,children:"Ver detalles"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>s(r.segunda),className:`text-sm font-medium transition-colors duration-200 ${r.segunda?"text-blue-500 hover:text-blue-700":"text-red-500 hover:text-red-700"}`,children:"Ver detalles"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap space-x-2",children:[e.jsx("a",{href:r.primera?route("empleado.generar-pdf.primera",{empleadoId:l.id,quincenaId:r.primera.id}):"#",onClick:m=>i(r.primera,m),className:`px-4 py-2 rounded ${r.primera?"bg-green-500 text-white hover:bg-green-600":"bg-gray-400 text-gray-200 cursor-not-allowed"}`,children:"Generar Primera Quincena"}),e.jsx("a",{href:r.primera&&r.segunda?route("empleado.generar-pdf",{empleadoId:l.id,quincenaId:r.segunda.id,tipo:r.segunda?"segunda":"primera"}):"#",onClick:m=>x(r.primera,r.segunda,m),className:`px-4 py-2 rounded ${r.primera&&r.segunda?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-400 text-gray-200 cursor-not-allowed"}`,children:"Generar Recibo Completo"})]})]},o))})]})})]})]}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Detalles de la Quincena"})}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(c,{label:"Sueldo Básico Quincenal",value:n.sueldo_basico_quincenal}),e.jsx(c,{label:"Prima de Profesionalización",value:n.prima_profesionalizacion}),e.jsx(c,{label:"Prima por Hijos",value:n.prima_hijos}),e.jsx(c,{label:"Prima de Antigüedad",value:n.prima_antiguedad}),e.jsx(c,{label:"Cestaticket",value:n.cestaticket}),e.jsx(c,{label:"Seguro Social Obligatorio",value:n.seguro_social_obligatorio}),e.jsx(c,{label:"Régimen Prestaciones Empleo",value:n.regimen_prestaciones_empleo}),e.jsx(c,{label:"Ley Vivienda y Hábitat",value:n.ley_vivienda_habitat}),e.jsx(c,{label:"Tesorería Seguridad Social",value:n.tesoreria_seguridad_social}),e.jsx(c,{label:"Caja de Ahorro",value:n.caja_ahorro})]})}),e.jsx("div",{className:"p-6 border-t flex justify-end",children:e.jsx("button",{onClick:()=>d(null),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cerrar"})})]})})]})}export{V as default};
